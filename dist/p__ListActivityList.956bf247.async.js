(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"8FS8":function(e,t,a){"use strict";a("2qtc");var n=a("kLXV"),l=(a("DZo9"),a("8z0m")),r=(a("miYZ"),a("tsqr")),i=a("o0o1"),c=a.n(i),o=a("HaE+"),u=a("ODXe"),s=a("q1tI"),m=a.n(s);function d(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}function f(e,t){var a,n="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<2;return n||(a="1"),l||(a="2"),!t||"1"!==a&&"2"!==a||(a=!1),a}var p=a("xvlK"),v=function(e){var t=e.upAction,a=e.handleChange,i=e.imgInfo,v=e.visible,E=e.type,b=Object(s["useState"])(!1),h=Object(u["a"])(b,2),g=h[0],y=h[1],O=Object(s["useState"])(""),j=Object(u["a"])(O,2),x=j[0],C=j[1],k=Object(s["useState"])(""),w=Object(u["a"])(k,2),I=w[0],_=w[1],L=Object(s["useState"])([]),S=Object(u["a"])(L,2),A=S[0],T=S[1];Object(s["useEffect"])((function(){var e=i&&Object.keys(i).length>0?[i]:[];T(e),v||T([])}),[e.imgInfo]);var N=function(){var e=Object(o["a"])(c.a.mark((function e(t){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,d(t.originFileObj);case 3:t.preview=e.sent;case 4:C(t.url||t.preview),y(!0),_(t.name||t.url.substring(t.url.lastIndexOf("/")+1));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t="removed"!==e.file.status;"1"===f(e.file)&&t?r["a"].error("\u60a8\u53ea\u80fd\u4e0a\u4f20JPG/PNG\u6587\u4ef6!"):"2"===f(e.file)&&t?r["a"].error("\u56fe\u50cf\u5fc5\u987b\u5c0f\u4e8e2MB!"):(e&&T(e.fileList),a&&e.fileList.length>=1&&e.fileList[0].response?a({url:e.fileList[0].response.data.url,param:E}):a({url:void 0,param:E}))},B=function(e){return f(e,!0)},D=function(){return y(!1)},R=m.a.createElement("div",null,m.a.createElement(p["a"],null),m.a.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20"));return m.a.createElement("div",null,m.a.createElement(l["a"],{action:t,listType:"picture-card",fileList:A,onPreview:N,onChange:F,beforeUpload:B},A.length>=1?null:R),m.a.createElement(n["a"],{visible:g,title:I,footer:null,onCancel:D},m.a.createElement("img",{alt:"example",style:{width:"100%"},src:x})))};t["a"]=v},HJsQ:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return i}));var n=["\u4e0a\u7ebf","\u4e0b\u7ebf"],l="http://10.100.60.28/phalapi/public/?s=App.Crm_activity.Upload",r=[{key:1,val:"default",txt:"\u9ed8\u8ba4"},{key:2,val:"0",txt:"\u6700\u65b0\u6d3b\u52a8"},{key:3,val:"1",txt:"\u4ea7\u54c1\u4e13\u533a"}],i=[{key:1,val:"default",txt:"\u9ed8\u8ba4"},{key:2,val:"0",txt:"\u793e\u62db\u89e3\u51b3\u65b9\u6848"},{key:3,val:"1",txt:"\u6821\u62db\u89e3\u51b3\u65b9\u6848"}]},HYZv:function(e,t,a){e.exports={standardList:"standardList___2GqAD",headerInfo:"headerInfo___3gAJH",listContent:"listContent___6Uki8",listContentItem:"listContentItem___3logl",href:"href___2GtmA",extraContentSearch:"extraContentSearch___tapCr",listCard:"listCard___1KBU2",standardListForm:"standardListForm___GTt30",formResult:"formResult___3FeUi"}},TAj3:function(e,t,a){"use strict";a.r(t),a.d(t,"ListBasicList",(function(){return K}));a("Mwp2");var n=a("VXEj"),l=(a("Telt"),a("Tckk")),r=(a("+L6B"),a("2/Rp")),i=(a("IzEo"),a("bx4M")),c=(a("14J3"),a("BMrR")),o=(a("jCWc"),a("kPKH")),u=a("VTBJ"),s=(a("qVdP"),a("jsC+")),m=(a("lUTK"),a("BvKs")),d=(a("2qtc"),a("kLXV")),f=a("ODXe"),p=(a("5Dmo"),a("3S7+")),v=(a("7Kak"),a("9yH6")),E=a("q1tI"),b=a.n(E),h=a("8Skl"),g=a("xvlK"),y=a("i8i4"),O=a("Hx5s"),j=a("HJsQ"),x=a("9kvl"),C=a("wx14"),k=(a("BoS7"),a("Sdc0")),w=(a("J+/v"),a("MoRW")),I=(a("y8nQ"),a("Vl3Y")),_=(a("5NDa"),a("5rEg")),L=a("6qam"),S=a.n(L),A=a("TTi0"),T=a("8FS8"),N=a("HYZv"),F=a.n(N),B=_["a"].TextArea,D={labelCol:{span:7},wrapperCol:{span:13}},R=[{val:"0",txt:"\u6700\u65b0\u6d3b\u52a8"},{val:"1",txt:"\u4ea7\u54c1\u4e13\u533a"}],q=[{val:"default",txt:"default"},{val:"new",txt:"new"},{val:"hot",txt:"hot"}],H=function(e){var t=I["a"].useForm(),a=Object(f["a"])(t,1),n=a[0],l=e.done,i=e.visible,c=e.current,o=e.onDone,s=e.onCancel,m=e.onSubmit,p=Object(E["useState"])(!0),h=Object(f["a"])(p,2),g=h[0],y=h[1];Object(E["useEffect"])((function(){n&&!i&&n.resetFields()}),[e.visible]),Object(E["useEffect"])((function(){var e;c&&n.setFieldsValue(Object(u["a"])({},c,{state:"default"===c.state?"default":c.state,type:0===(null===(e=c.type)||void 0===e?void 0:e.length)?"0":"1"}))})),Object(E["useEffect"])((function(){c&&y("on"===c.online)}),[g,c]);var O=function(){n&&n.submit()},x=function(e){var t=c?"edit":"add";m&&m(e,t)},L=function(e){var t="showimg"===e.param?{showimg:e.url}:"wximg"===e.param?{wximg:e.url}:{h5img:e.url};n.setFieldsValue(t)},N=l?{footer:null,onCancel:o}:{okText:"\u4fdd\u5b58",onOk:O,onCancel:s},H=function(){if(l)return b.a.createElement(w["a"],{status:"success",title:"".concat(c?"\u7f16\u8f91":"\u6dfb\u52a0","\u6210\u529f"),extra:b.a.createElement(r["a"],{type:"primary",onClick:o},"\u77e5\u9053\u4e86"),className:F.a.formResult});var e=function(e,t){return e&&!S()(e[t])?{url:e[t],uid:e.id}:{}},t=[e(c,"showimg"),e(c,"wximg"),e(c,"h5img")],a=t[0],u=t[1],s=t[2],m=function(e){if(y(e),c){var t=e?"on":"off";c.online=t,n.setFieldsValue({online:t})}},d={state:"default",type:"0",online:!0};return b.a.createElement(I["a"],Object(C["a"])({},D,{form:n,onFinish:x,initialValues:d}),b.a.createElement(I["a"].Item,{name:"type",label:"\u6d3b\u52a8\u7c7b\u578b",rules:[Object(A["a"])(!0)]},b.a.createElement(v["a"].Group,null,R.map((function(e){return b.a.createElement(v["a"].Button,{key:e.val,value:e.val},e.txt)})))),b.a.createElement(I["a"].Item,{name:"online",label:"\u4e0a\u7ebf\u72b6\u6001",rules:[Object(A["a"])(!0)]},b.a.createElement(k["a"],{checked:g,checkedChildren:j["c"][0],unCheckedChildren:j["c"][1],onClick:m})),b.a.createElement(I["a"].Item,{name:"position",label:"\u987a\u5e8f",rules:[Object(A["a"])(!0,"position")]},b.a.createElement(_["a"],{placeholder:"\u8bf7\u8f93\u5165\u987a\u5e8f"})),b.a.createElement(I["a"].Item,{name:"href",label:"\u94fe\u63a5\u5730\u5740",rules:[Object(A["a"])(!0,"href")]},b.a.createElement(_["a"],{placeholder:"\u8bf7\u8f93\u5165\u94fe\u63a5\u5730\u5740"})),b.a.createElement(I["a"].Item,{name:"showimg",label:"\u5c55\u793a\u56fe\u4e0a\u4f20",rules:[Object(A["a"])(!0,"showimg")]},b.a.createElement(T["a"],{upAction:j["a"],handleChange:L,imgInfo:a,visible:i,type:"showimg"})),b.a.createElement(I["a"].Item,{name:"wximg",label:"\u6d77\u62a5\u4e8c\u7ef4\u7801",rules:[Object(A["a"])(!1,"wximg")]},b.a.createElement(T["a"],{upAction:j["a"],handleChange:L,imgInfo:u,visible:i,type:"wximg"})),b.a.createElement(I["a"].Item,{name:"h5img",label:"h5\u4e8c\u7ef4\u7801",rules:[Object(A["a"])(!1,"h5img")]},b.a.createElement(T["a"],{upAction:j["a"],handleChange:L,imgInfo:s,visible:i,type:"h5img"})),b.a.createElement(I["a"].Item,{name:"des",label:"\u6587\u6848\u63cf\u8ff0",rules:[Object.assign(Object(A["a"])(!0,"des"),{min:5})]},b.a.createElement(B,{rows:2,placeholder:"\u8bf7\u8f93\u5165\u81f3\u5c11\u4e94\u4e2a\u5b57\u7b26"})),b.a.createElement(I["a"].Item,{name:"state",label:"\u6d3b\u52a8\u72b6\u6001",rules:[Object(A["a"])(!0)]},b.a.createElement(v["a"].Group,null,q.map((function(e){return b.a.createElement(v["a"].Button,{key:e.val,value:e.val},e.txt)})))))};return b.a.createElement(d["a"],Object(C["a"])({getContainer:!1,forceRender:!0,title:l?null:"\u6d3b\u52a8".concat(c?"\u7f16\u8f91":"\u6dfb\u52a0"),className:F.a.standardListForm,width:640,bodyStyle:l?{padding:"72px 0"}:{padding:"28px 0 0"},visible:i,cancelText:"\u53d6\u6d88"},N),H())},V=H,J=v["a"].Button,P=v["a"].Group,U=function(e){var t=e.title,a=e.value,n=e.bordered;return b.a.createElement("div",{className:F.a.headerInfo},b.a.createElement("span",null,t),b.a.createElement("p",null,a),n&&b.a.createElement("em",null))},G=function(e){var t=e.data,a=t.online,n=t.type,l=t.state,r=t.position,i=t.href;return b.a.createElement("div",{className:F.a.listContent},b.a.createElement("div",{className:F.a.listContentItem},b.a.createElement("span",null,"\u4e0a\u7ebf\u72b6\u6001"),b.a.createElement("p",null,"on"===a?"\u4e0a\u7ebf":"\u4e0b\u7ebf")),b.a.createElement("div",{className:F.a.listContentItem},b.a.createElement("span",null,"\u7c7b\u578b"),b.a.createElement("p",null,"0"===n?"\u6700\u65b0\u6d3b\u52a8":"\u4ea7\u54c1\u4e13\u533a")),b.a.createElement("div",{className:F.a.listContentItem},b.a.createElement("span",null,"\u5f53\u524d\u987a\u5e8f"),b.a.createElement("p",null,r)),b.a.createElement("div",{className:F.a.listContentItem},b.a.createElement("span",null,"\u72b6\u6001"),b.a.createElement("p",null,l)),b.a.createElement("div",{className:"".concat(F.a.listContentItem," ").concat(F.a.href)},b.a.createElement("span",null,"\u94fe\u63a5"),b.a.createElement("p",null,b.a.createElement(p["a"],{placement:"leftBottom",title:i},b.a.createElement("a",{href:i},i)))))},K=function(e){var t=Object(E["useRef"])(null),a=e.loading,p=e.dispatch,v=e.listActivityList.prolist,x=Object(E["useState"])(!1),C=Object(f["a"])(x,2),k=C[0],w=C[1],I=Object(E["useState"])(!1),_=Object(f["a"])(I,2),L=_[0],S=_[1],A=Object(E["useState"])(void 0),T=Object(f["a"])(A,2),N=T[0],B=T[1],D=Object(E["useState"])([]),R=Object(f["a"])(D,2),q=R[0],H=R[1],K=Object(E["useState"])("default"),z=Object(f["a"])(K,2),M=z[0],X=z[1],Y=function(){p({type:"listActivityList/proFetch",payload:{}})};Object(E["useEffect"])((function(){Y()}),[]),Object(E["useEffect"])((function(){H(v)}),[v]);var Z={showSizeChanger:!0,total:v.length,defaultPageSize:10},Q=function(){S(!0),B(void 0)},W=function(e){S(!0),B(e)},$=function(e){p({type:"listActivityList/ProDelete",payload:{id:e}}),X("default")},ee=function(e,t){"edit"===e?W(t):"delete"===e&&d["a"].confirm({title:"\u5220\u9664",content:"\u786e\u5b9a\u5220\u9664\u8be5\u6d3b\u52a8\u4e48\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){$(t.id)}})},te=function(e){var t=v.filter((function(t){return"default"===e.target.value||t.type===e.target.value}));X(e.target.value),H(t)},ae=b.a.createElement("div",{className:F.a.extraContent},b.a.createElement(P,{value:M,onChange:te},j["b"].map((function(e){return b.a.createElement(J,{key:e.key,value:e.val},e.txt)})))),ne=function(e){var t=e.item;return b.a.createElement(s["a"],{overlay:b.a.createElement(m["a"],{onClick:function(e){var a=e.key;return ee(a,t)}},b.a.createElement(m["a"].Item,{key:"delete"},"\u5220\u9664"))},b.a.createElement("a",null,"\u66f4\u591a ",b.a.createElement(h["a"],null)))},le=function(){if(t.current){var e=Object(y["findDOMNode"])(t.current);setTimeout((function(){return e.blur()}),0)}},re=function(){le(),w(!1),S(!1)},ie=function(){le(),S(!1)},ce=function(e,t){var a=N?N.id:"";le(),w(!0),p("add"===t?{type:"listActivityList/ProSubmit",payload:Object(u["a"])({id:a},e)}:{type:"listActivityList/proEdit",payload:Object(u["a"])({id:a},e)}),X("default")};return b.a.createElement("div",null,b.a.createElement(O["b"],null,b.a.createElement("div",{className:F.a.standardList},b.a.createElement(i["a"],{bordered:!1},b.a.createElement(c["a"],null,b.a.createElement(o["a"],{sm:8,xs:24},b.a.createElement(U,{title:"\u9879\u76ee\u6570",value:v.length,bordered:!0})))),b.a.createElement(i["a"],{className:F.a.listCard,bordered:!1,title:"\u57fa\u672c\u5217\u8868",style:{marginTop:24},bodyStyle:{padding:"0 32px 40px 32px"},extra:ae},b.a.createElement(r["a"],{type:"dashed",style:{width:"100%",marginBottom:8},onClick:Q},b.a.createElement(g["a"],null),"\u6dfb\u52a0"),b.a.createElement(n["a"],{size:"large",rowKey:"id",loading:a,pagination:Z,dataSource:q,renderItem:function(e){return b.a.createElement(n["a"].Item,{actions:[b.a.createElement("a",{key:"edit",onClick:function(t){t.preventDefault(),W(e)}},"\u7f16\u8f91"),b.a.createElement(ne,{key:"more",item:e})]},b.a.createElement(n["a"].Item.Meta,{avatar:b.a.createElement(l["a"],{src:e.showimg,shape:"square",size:"large"}),title:e.des}),b.a.createElement(G,{data:e}))}})))),b.a.createElement(V,{done:k,current:N,visible:L,onDone:re,onCancel:ie,onSubmit:ce}))};t["default"]=Object(x["a"])((function(e){var t=e.listActivityList,a=e.loading;return{listActivityList:t,loading:a.models.listActivityList}}))(K)},TTi0:function(e,t,a){"use strict";var n=a("mUg4"),l=a.n(n),r="\u8bf7\u8f93\u5165",i="\u8bf7\u4e0a\u4f20",c={position:"\u987a\u5e8f",showimg:"\u5c55\u793a\u56feURL",wximg:"\u5fae\u4fe1url",h5img:"H5url",des:"\u4ea7\u54c1\u63cf\u8ff0",href:"\u6d3b\u52a8\u94fe\u63a5",type:"\u6d3b\u52a8\u7c7b\u578b",state:"\u6d3b\u52a8\u72b6\u6001",link1:"\u94fe\u63a51\u540d\u79f0",link1href:"\u8bf7\u8f93\u5165\u94fe\u63a51\u5730\u5740",sotype:"\u89e3\u51b3\u65b9\u6848\u7c7b\u578b",sotitle:"\u6807\u9898"},o=["showimg"],u=function(e,t){var a="";return l()(c,(function(e,n){t===n&&(a="".concat(o.includes(n)?i:r).concat(c[n]))})),{required:e,message:a}};t["a"]=u}}]);